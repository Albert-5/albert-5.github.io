<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', '[object Object]', 'auto');
ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="sHO_73a3zHA-ndhyNC1D2d7DNrGbbCjApnFHsV56H8o">
    
    
    
    
    <title>网络流Network_Flow | Albert</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="算法导论,网络流,最大流问题">
    <meta name="description" content="内容来源于爱美工的程序员  网络流（Network Flow）网络流和线性规划、动态规划是有关系的。它们都属于数学规划，也就是用数学的方法来帮助决策。（详情参考清华大学《数学规划》）这样来看，就没有神秘可言了。小样，换个马甲我还认识你。所以，网络流也是一个解决极值问题的数学方法。 要解决问题，总得先有个靠谱的模型吧。动态规划和线性规划里边都有公式啥的。总之，要先形式化（建模），再解决。所以，就有">
<meta name="keywords" content="算法导论,网络流,最大流问题">
<meta property="og:type" content="article">
<meta property="og:title" content="网络流Network_Flow">
<meta property="og:url" content="https://albert-5.cn/2019/06/01/网络流Network-Flow/index.html">
<meta property="og:site_name" content="Albert">
<meta property="og:description" content="内容来源于爱美工的程序员  网络流（Network Flow）网络流和线性规划、动态规划是有关系的。它们都属于数学规划，也就是用数学的方法来帮助决策。（详情参考清华大学《数学规划》）这样来看，就没有神秘可言了。小样，换个马甲我还认识你。所以，网络流也是一个解决极值问题的数学方法。 要解决问题，总得先有个靠谱的模型吧。动态规划和线性规划里边都有公式啥的。总之，要先形式化（建模），再解决。所以，就有">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E6%B5%81%E7%BD%91%E7%BB%9C%E7%A4%BA%E4%BE%8B.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E6%B5%81%E7%A4%BA%E4%BE%8B.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E8%BD%AC%E5%8C%96%E4%B8%BAs-t%E6%B5%81.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/s-t%E5%89%B2.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E5%90%84%E7%A7%8D%E5%89%B2%E5%80%BC.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E5%87%80%E6%B5%81%E9%87%8F.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E6%AE%8B%E7%95%99%E7%BD%91%E7%BB%9C.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E5%A2%9E%E5%B9%BF%E8%B7%AF%E5%BE%84.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E7%BD%91%E7%BB%9C%E6%B5%81%E6%80%9D%E8%80%83.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E7%BC%A9%E6%94%BE%E7%AE%97%E6%B3%95.jpg">
<meta property="og:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E7%AE%97%E6%B3%95%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94.jpg">
<meta property="og:updated_time" content="2019-06-01T04:45:35.097Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="网络流Network_Flow">
<meta name="twitter:description" content="内容来源于爱美工的程序员  网络流（Network Flow）网络流和线性规划、动态规划是有关系的。它们都属于数学规划，也就是用数学的方法来帮助决策。（详情参考清华大学《数学规划》）这样来看，就没有神秘可言了。小样，换个马甲我还认识你。所以，网络流也是一个解决极值问题的数学方法。 要解决问题，总得先有个靠谱的模型吧。动态规划和线性规划里边都有公式啥的。总之，要先形式化（建模），再解决。所以，就有">
<meta name="twitter:image" content="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E6%B5%81%E7%BD%91%E7%BB%9C%E7%A4%BA%E4%BE%8B.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="Albert" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<!-- 导入音乐插件js -->
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css">
  <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script>
</head>


<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">albert</h5>
          <a href="mailto:981287080@qq.com" title="981287080@qq.com" class="mail">981287080@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives">
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags">
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories">
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Albert-5" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.weibo.com/5973922558/profile?rightmod=1&wvr=6&mod=personinfo" target="_blank">
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/Music" target="_blank">
                <i class="icon icon-lg icon-music"></i>
                Music
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/desktop">
                <i class="icon icon-lg icon-desktop"></i>
                Desktop
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/picture">
                <i class="icon icon-lg icon-camera"></i>
                Camera
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/Starky35793281" target="_blank">
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about">
                <i class="icon icon-lg icon-link"></i>
                About me
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">网络流Network_Flow</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="検索">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">网络流Network_Flow</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-06-01T04:44:08.000Z" itemprop="datePublished" class="page-time">
  2019-06-01
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/算法/">算法</a></li></ul>

            
        </h5>
    </div>

    

	
</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#网络流（Network-Flow）"><span class="post-toc-number">1.</span> <span class="post-toc-text">网络流（Network Flow）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#流网络（Flow-Network）"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">流网络（Flow Network）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#流（Flow）"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">流（Flow）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#s-t流（s-t-Flow）"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">s-t流（s-t Flow）</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#最大流（Maximum-Flow）"><span class="post-toc-number">2.</span> <span class="post-toc-text">最大流（Maximum Flow）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Trial-1-Dynamic-programming"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">Trial 1: Dynamic programming</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Trial-2-Iteration"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">Trial 2: Iteration</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#割（Cut）"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">割（Cut）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#s-t割（s-t-Cut）"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">s-t割（s-t Cut）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#最小割（Minimum-Cut）"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">最小割（Minimum Cut）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#净流量（Net-Flow）"><span class="post-toc-number">2.6.</span> <span class="post-toc-text">净流量（Net Flow）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#残留网络（Residual-Network）"><span class="post-toc-number">2.7.</span> <span class="post-toc-text">残留网络（Residual Network）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#增广路径（Augmenting-Path）"><span class="post-toc-number">2.8.</span> <span class="post-toc-text">增广路径（Augmenting Path）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#思考"><span class="post-toc-number">2.9.</span> <span class="post-toc-text">思考</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#最大流最小割定理（Max-Flow-Min-Cut-Theorem）"><span class="post-toc-number">2.10.</span> <span class="post-toc-text">最大流最小割定理（Max-Flow Min-Cut Theorem）</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Ford-Fulkerson方法"><span class="post-toc-number">3.</span> <span class="post-toc-text">Ford-Fulkerson方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Scaling-technique"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">Scaling technique</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Edmonds-Karp"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">Edmonds-Karp</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#补充"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">补充</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-网络流Network-Flow" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">网络流Network_Flow</h1>
        <div class="post-meta">
			
            <time class="post-time" title="2019-06-01 12:44:08" datetime="2019-06-01T04:44:08.000Z" itemprop="datePublished">2019-06-01</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/算法/">算法</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none">
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <blockquote>
<p>内容来源于<a href="https://zhangxiaoyang.me/categories/intro-to-algorithms-tutorial/intro-to-algorithms-tutorial-7.html" target="_blank_">爱美工的程序员</a></p>
</blockquote>
<h1 id="网络流（Network-Flow）"><a href="#网络流（Network-Flow）" class="headerlink" title="网络流（Network Flow）"></a>网络流（Network Flow）</h1><p>网络流和线性规划、动态规划是有关系的。它们都属于数学规划，也就是用数学的方法来帮助决策。（详情参考清华大学《数学规划》）这样来看，就没有神秘可言了。小样，换个马甲我还认识你。所以，网络流也是一个解决极值问题的数学方法。</p>
<p>要解决问题，总得先有个靠谱的模型吧。动态规划和线性规划里边都有公式啥的。总之，要先形式化（建模），再解决。所以，就有了流网络。</p>
<h2 id="流网络（Flow-Network）"><a href="#流网络（Flow-Network）" class="headerlink" title="流网络（Flow Network）"></a>流网络（Flow Network）</h2><p>顾名思义，流网络是一种用流构成的网络，如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E6%B5%81%E7%BD%91%E7%BB%9C%E7%A4%BA%E4%BE%8B.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>可以把边想象成自来水的管道，把节点想象成管道的连接组件。其中，管道的容量不一定相同，所以就有了不同的边的权重（管道容量是一个大于等于0的常量）。流网络是一个有向图，所以，管道是有方向的（水的流向只能按照管道的方向流）。注意图中两个特殊的连接组件，s代表源，也就是水的入口，t代表汇，也就是水的出口。也就是说，水从s点灌入，从t点流出，具体有多少水流入s，我们不用管，反正是源源不断；从t流出的水去哪，我们也不用操心。</p>
<p>这样，我们就得到了一个流网络，s是流的入口，t是流的出口，s和t之间有若干个管道连接。要谨记这个流网络中管道的容量限制和方向限制，若是没有它，又何必来学网络流。</p>
<h2 id="流（Flow）"><a href="#流（Flow）" class="headerlink" title="流（Flow）"></a>流（Flow）</h2><p>流网络可以看成是一张线路图，这里是自来水管道的线路图，相当于硬件基础设施。</p>
<p>我们现在要做的是使用这个基础设施，也就是往管道里灌水，确保每个管道里的流量不超过容量限制。比如，我们可以这样灌，如下图。边的权重增加了流量参数，使用斜线与容量进行分隔。</p>
<p><strong>注意：这里的所有图中，如果有斜线标识，则左侧表示流，右侧表示容量。如果没有斜线，则只是表示容量。</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E6%B5%81%E7%A4%BA%E4%BE%8B.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>对流网络灌水得到的就是“流”。当然，这只是其中一种满足流量不超过容量限制的灌水方法。还可以有很多种灌水的方法。但是都要遵循以下两个原则：</p>
<ul>
<li>容量限制：管道的流量不能超过容量。</li>
<li>流量守恒：流入管道连接组件的流量等于流出的流量。</li>
</ul>
<p>至此，我们成功的得到了“流”。</p>
<h2 id="s-t流（s-t-Flow）"><a href="#s-t流（s-t-Flow）" class="headerlink" title="s-t流（s-t Flow）"></a>s-t流（s-t Flow）</h2><p>现实往往是不按套路出牌的。比如，连接的地方（节点）可能有权重，能够蓄水。比如，有多个源多个汇。比如，有多个管道连接两个节点。</p>
<p>总之，现实的种种迹象表明，我们需要设计一个兼容并包的模型，考虑种种情况。</p>
<p>但是，我们不想考虑那么多情况。</p>
<p>于是，就有了一个小伙想了个点子，定义一种标准模型，我们只研究这个标准的模型。其它的情况通过一些方法转化成这个标准模型。</p>
<p>是的，这个标准模型就是s-t流。一些转化方法如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E8%BD%AC%E5%8C%96%E4%B8%BAs-t%E6%B5%81.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<h1 id="最大流（Maximum-Flow）"><a href="#最大流（Maximum-Flow）" class="headerlink" title="最大流（Maximum Flow）"></a>最大流（Maximum Flow）</h1><p>费尽心思，从初步的流网络，到我们比较喜欢的标准形式s-t流，是时候考虑正事儿了。</p>
<p>流网络是固定的，但是流是不确定的。所以，我们想在多种灌水的方法中寻找最佳。</p>
<p>何为最佳？</p>
<p>在源灌入大量的水，通过选择最好的管道流量和流向，使得汇流出的流量最大。但是，最大流不是想找就能找到的，所以这是个问题，即最大流问题。</p>
<h2 id="Trial-1-Dynamic-programming"><a href="#Trial-1-Dynamic-programming" class="headerlink" title="Trial 1: Dynamic programming"></a>Trial 1: Dynamic programming</h2><p>既然是数学规划，首先想到的是能不能使用动态规划。</p>
<p>现实情况是，目前还没有解决最大流问题的动态规划算法。</p>
<h2 id="Trial-2-Iteration"><a href="#Trial-2-Iteration" class="headerlink" title="Trial 2: Iteration"></a>Trial 2: Iteration</h2><p>想到的另外一种方法是迭代法，伪代码表示如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x = x0;</span><br><span class="line">while true do</span><br><span class="line">    x = improve(x);</span><br><span class="line">    if stopping(x) then</span><br><span class="line">        break</span><br><span class="line">    end if</span><br><span class="line">end while</span><br><span class="line">return x</span><br></pre></td></tr></table></figure>
<p>主要是思想是从某个流开始，不断的改进这个流，直到到达我们想要的最大流。</p>
<p>不得不说，这想法太粗略了。一些问题没有解决，比如，如何选择开始的流，如何改进，何时停止算法。</p>
<p>为了解决这些问题，我们需要继续补充一些基础知识。这样才能干掉这个问题。</p>
<p>（为什么不试试线性规划？线性规划是可以解决的，但是对于这种网络的结构，并不能很高效。）</p>
<h2 id="割（Cut）"><a href="#割（Cut）" class="headerlink" title="割（Cut）"></a>割（Cut）</h2><p>对于一个流网络，在若干个管道上切一刀，使这个网络分成两部分，这两部分将无法连通。所以，我们有很多种切割的方法，把这个网络分成两部分。每一种切割的方法对应于一个“割”。</p>
<h2 id="s-t割（s-t-Cut）"><a href="#s-t割（s-t-Cut）" class="headerlink" title="s-t割（s-t Cut）"></a>s-t割（s-t Cut）</h2><p>s-t割是一种特殊的“割”，这种切割的方式需要保证在切割之后s和t不再连通，即s和t不属于同一部分了。</p>
<p>对于一个s-t割，必然会把s和t分到两个小网络中，并且切坏了若干个管道。这两个小网络之间的管道容量之和就是割的值，只计算从包含s的小网络流向包含t的小网络的管道容量之和，反方向不考虑。一个s-t割如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/s-t%E5%89%B2.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>可以计算出，割的值为12+14=26。可以看到，割的值只与流网络有关，和流无关。对于一个确定的流网络，一刀切下去，割的值就确定了。</p>
<h2 id="最小割（Minimum-Cut）"><a href="#最小割（Minimum-Cut）" class="headerlink" title="最小割（Minimum Cut）"></a>最小割（Minimum Cut）</h2><p>对于一个流网络，我们可以得到多个割的值，因为切的方法有很多种，如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E5%90%84%E7%A7%8D%E5%89%B2%E5%80%BC.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>在这里，我们更关心割值最小的情况，即最小割。为什么更关心最小割？下面会说~</p>
<h2 id="净流量（Net-Flow）"><a href="#净流量（Net-Flow）" class="headerlink" title="净流量（Net Flow）"></a>净流量（Net Flow）</h2><p>注意到，割的值是和流无关的，只与流网络有关。也就是说，割的值只是取决于管道的容量和方向，以及切的方法。</p>
<p>如果我们观察一下流，发现了一个规律，如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E5%87%80%E6%B5%81%E9%87%8F.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>真的是固定值有木有！这个固定值就是净流量。之所以有这个规律，是因为流量守恒。</p>
<p>需要注意，在计算净流量时，需要考虑两个方向的值，并求代数和。从s流向t记为正，从t流向s记为负。对于割值的计算，则无需考虑从t流向s的。因为割值实际计算的是管道容量，净流量考虑的是真实的流量。</p>
<h2 id="残留网络（Residual-Network）"><a href="#残留网络（Residual-Network）" class="headerlink" title="残留网络（Residual Network）"></a>残留网络（Residual Network）</h2><p>残留网络，顾名思义，就是流网络中去掉流剩下的网络。对于某条管道，其容量减去流以后剩下的流构成的网络，就形成了残留网络。每一个流会对应一个残留网络，残留网络 = 流网络 - 流，如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E6%AE%8B%E7%95%99%E7%BD%91%E7%BB%9C.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>需要说明的是，蓝色的边称作反向边，方向与原来的方向相反，数值为原来流量的值。</p>
<p>为什么要加上这个看似多余的反向边？</p>
<blockquote>
<p>反向边的作用就是给程序一个可以后悔的机会。（来自<a href="http://blog.csdn.net/leolin_/article/details/7202691" target="_blank" rel="noopener">这里</a>)）</p>
</blockquote>
<p>也就是说，加这个边是为了寻找最大流的程序的执行。</p>
<h2 id="增广路径（Augmenting-Path）"><a href="#增广路径（Augmenting-Path）" class="headerlink" title="增广路径（Augmenting Path）"></a>增广路径（Augmenting Path）</h2><p>扯这么多，主要是为了引出这个增广路径。因为增广路径能帮我们找到最大流。</p>
<p>增广路径就是残余网络中的一条s到t方向的路径，如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E5%A2%9E%E5%B9%BF%E8%B7%AF%E5%BE%84.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>如果我们找到了这样一条路径，说明原来的流不够大，还可以在这条路径上压入一些流量，在这里是3，取11、12、3中最小值。</p>
<p>这样，我们就可以得到更大的流。</p>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>从流（我们更关心最大流），到割（我们更关心最小割），到残留网络，再到增广路径，我们在做啥子吗？</p>
<p>我的理解是，这些流呀割呀都是理论储备，最终是想证明一句话：残留网络$G_f$中不包含增广路径时，f就是G的最大流。</p>
<p>而残留网络、增广路径是解决这个最大流问题的手段，通过寻找增广路径的方法来改进当前的流，朝最大流逼近。但是，问题是何时停止算法呢？这就是理论储备部分告诉我们的，如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E7%BD%91%E7%BB%9C%E6%B5%81%E6%80%9D%E8%80%83.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<h2 id="最大流最小割定理（Max-Flow-Min-Cut-Theorem）"><a href="#最大流最小割定理（Max-Flow-Min-Cut-Theorem）" class="headerlink" title="最大流最小割定理（Max-Flow Min-Cut Theorem）"></a>最大流最小割定理（Max-Flow Min-Cut Theorem）</h2><p><strong>重述一遍，残留网络$G_f$中不包含增广路径时，f就是G的最大流（或者说，最大流的流量等于最小割的容量）。</strong></p>
<p><strong>这就是传说中的最大流最小割定理。</strong></p>
<p>这个可以用反证法证明，假设当不包含增广路径时没有达到最大流，那么就会找到一条路径来增大流，也就找到了增广路径，所以矛盾。大致是这样证明。</p>
<h1 id="Ford-Fulkerson方法"><a href="#Ford-Fulkerson方法" class="headerlink" title="Ford-Fulkerson方法"></a>Ford-Fulkerson方法</h1><p>Ford-Fulkerson是一种求解最大流的方法，依赖于上面积淀的基础知识（主要是残留网络、增广路径、割的功劳），也称作“扩充路径方法”。之所以称之为方法而不是算法，是因为这个只是一种指导思想，在此指导之下，有很多种实现方式。</p>
<p>Ford-Fulkerson是一种迭代法，过程如下：</p>
<ol>
<li>流网络中所有顶点对的流大小清零（此时，网络流为零）</li>
<li>每次迭代，通过寻找一条增广路径来增加流的值</li>
<li>无法找到增广路径时，迭代结束</li>
</ol>
<p>可以看到，最关键问题是如何寻找增广路径，而Ford-Fulkerson方法的效率正取决于此。如果选择方法不好，就有可能每次增加的流非常少，而算法运行时间非常长，甚至无法终止。</p>
<p>但是，Ford-Fulkerson并没有告诉我们如何寻找增广路径。所以，它是个方法，而不是算法，伪代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> initialize f(e) = 0 for all e</span><br><span class="line">while there is a s-t path in residual graph Gf do</span><br><span class="line">    arbitrarily choose an s-t path P in Gf</span><br><span class="line">    f = augment(P, f)</span><br><span class="line">end while</span><br><span class="line">augment(P, f)</span><br><span class="line">    let b = bottleneck(P)</span><br><span class="line">    for each edge e = (u, v) ∈ P do</span><br><span class="line">        if (u, v) is a forward edge then</span><br><span class="line">            increase f(u, v) by b</span><br><span class="line">        else</span><br><span class="line">            decrease f(u, v) by b</span><br><span class="line">        end if</span><br><span class="line">    end for</span><br></pre></td></tr></table></figure>
<p>其中，<code>augment</code>是一个改变当前流的函数，即使用找到的增广路径P来压入流，增大当前的流f。而<code>bottleneck</code>从当前的增广路径P中找到瓶颈边（残留网络中，路径上流量最小的边），把这个流量压入。</p>
<p>正是因为在选择增广路径时是<code>arbitrarily</code>，所以Ford-Fulkerson方法有多种实现。</p>
<h2 id="Scaling-technique"><a href="#Scaling-technique" class="headerlink" title="Scaling technique"></a>Scaling technique</h2><p>第一种是scaling的方法，通过伪代码更好解释。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">initialize f(e) = 0 for all e</span><br><span class="line">let △ = C</span><br><span class="line">while △ ≥ 1 do</span><br><span class="line">    while there is a s-t path in Gf(△) do</span><br><span class="line">        choose a s-t path</span><br><span class="line">        f&apos; = augment(P, f)</span><br><span class="line">        f = f&apos;</span><br><span class="line">   end while</span><br><span class="line">   △ = △ / 2</span><br></pre></td></tr></table></figure>
<p>可以看到，通过定义一个△来调节增广路径的选择顺序。C是一个定义的常熟。如果残留网络中的边（流量值）小于C，则“删除”该边，在新的网络中选择增广路径。如果这样的网络中找不到增广路径（也就是说，所有的边都不符合△的限制），则把△缩放为原来的一半，继续寻找增广路径。直到△不满足大于等于1时，算法结束。</p>
<p>例子来自卜老师的课件，△初始化为96。第一次的时候，残留网络的所有边被“删除”（标记为蓝色），因为都小于96。然后△调整为96/2=48，这样就获得了一条增广路径，并压入流。直到找不到增广路径，算法结束，如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E7%BC%A9%E6%94%BE%E7%AE%97%E6%B3%95.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>可以看到，scaling方法是通过加一个△（阈值）来选择增广路径的。通过这个阈值，可以尽可能的一次压入多一些的流。我们的目标是迭代的次数少且每次压入的流要多。</p>
<h2 id="Edmonds-Karp"><a href="#Edmonds-Karp" class="headerlink" title="Edmonds-Karp"></a>Edmonds-Karp</h2><p>Edmonds-Karp算法是使用BFS（广度优先搜索）的方式，选择最近的路径作为增广路径，伪代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">initialize f(e) = 0 for all e</span><br><span class="line">while there is a s-t path in Gf do</span><br><span class="line">    choose a shortest s-t path in Gf using BFS</span><br><span class="line">    f&apos; = augment(P, f)</span><br><span class="line">    f = f&apos;</span><br><span class="line">end while</span><br></pre></td></tr></table></figure>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>走了好久终于等到现在…</p>
<p>总结来说，前面一直在铺垫，积累些基础知识，为了得到最大流最小割定理，然后证明Ford-Fulkerson方法能够获得最大流。</p>
<p>但是，这终归是个方法。方法没有告诉我们哪一种寻找增广路径的算法是最好的。于是就有人搞了各种算法，进行了各种测试，性能也就各不相同了，如下图。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://zhangxiaoyang.me/drafts/categories/intro-to-algorithms-tutorial/images/%E7%AE%97%E6%B3%95%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94.jpg" alt="img" title>
                </div>
                <div class="image-caption">img</div>
            </figure>
<p>总之，是为了算法实现的更好，终极目标是高效的找到最大流，也就是解决最大流问题咯。</p>
<p>一些参考：</p>
<ol>
<li><a href="http://www.csie.ntnu.edu.tw/~u91029/Cut.html#2" target="_blank" rel="noopener">http://www.csie.ntnu.edu.tw/~u91029/Cut.html#2</a></li>
<li><a href="http://blog.csdn.net/leolin_/article/details/7202691" target="_blank" rel="noopener">http://blog.csdn.net/leolin_/article/details/7202691</a></li>
<li><a href="http://blog.csdn.net/smartxxyx/article/details/9293665" target="_blank" rel="noopener">http://blog.csdn.net/smartxxyx/article/details/9293665</a></li>
<li><a href="http://blog.csdn.net/kk303/article/details/6728400" target="_blank" rel="noopener">http://blog.csdn.net/kk303/article/details/6728400</a></li>
<li><a href="http://www.cnblogs.com/luweiseu/archive/2012/07/14/2591573.html" target="_blank" rel="noopener">http://www.cnblogs.com/luweiseu/archive/2012/07/14/2591573.html</a></li>
<li><a href="http://chhaj5236.blog.163.com/blog/static/112881081200982835124243/" target="_blank" rel="noopener">http://chhaj5236.blog.163.com/blog/static/112881081200982835124243/</a></li>
<li><a href="http://xpgc.vicp.net/course/ada4ia/TechDoc/ch09/ia-09-maxflow.pdf" target="_blank" rel="noopener">http://xpgc.vicp.net/course/ada4ia/TechDoc/ch09/ia-09-maxflow.pdf</a></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-- EOF --</span><br></pre></td></tr></table></figure>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最終更新：<time datetime="2019-06-01T04:45:35.097Z" itemprop="dateUpdated">2019-06-01 12:45:35</time>
</span><br>


        
        <br><br><b><center>版权声明</center></b><br><strong>作者：</strong> Albert <br> <strong>来源：</strong> <a href="https://albert-5.cn">Albert小破站</a> <br><strong>本文地址</strong>：<a href="/2019/06/01/网络流Network-Flow/" target="_blank" rel="external">https://albert-5.cn/2019/06/01/网络流Network-Flow/</a>，转载请务必注明<font color="indigo"><strong>作者</strong>和<strong>来源</strong></font>
        
    </div>
    
    <footer>
        <a href="https://albert-5.cn">
            <img src="/img/avatar.jpg" alt="albert">
            albert
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/最大流问题/">最大流问题</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法导论/">算法导论</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/网络流/">网络流</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://albert-5.cn/2019/06/01/网络流Network-Flow/&title=《网络流Network_Flow》 — Albert&pic=https://albert-5.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://albert-5.cn/2019/06/01/网络流Network-Flow/&title=《网络流Network_Flow》 — Albert&source=欢迎光顾本站~" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://albert-5.cn/2019/06/01/网络流Network-Flow/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《网络流Network_Flow》 — Albert&url=https://albert-5.cn/2019/06/01/网络流Network-Flow/&via=https://albert-5.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://albert-5.cn/2019/06/01/网络流Network-Flow/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2019/06/02/算法导论复习/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">算法导论复习</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/05/31/Typora语法/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Typora语法</h4>
      </a>
    </div>
  
</nav>



    

	


	


	


	
    <!-- Valine Comments -->
    <section class="comments" id="comments" style="margin-top:40px;padding:1px 15px 1px 10px;background-color:rgba(255,255,255,0.7);box-shadow: 0px 0px 20px #bbbbbb;border-radius: 5px;">
    </section>
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'false',
            verify: 'false' == 'false',
            appId: "INtYRvGKRn1Ey9323UGJz7gk-gzGzoHsz",
            appKey: "sruYEhxHh1hJxo04K2Gd8heb",
            avatar: "monsterid",
            placeholder: "ヾﾉ≧∀≦)o来啊，快活啊!",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
		console.log("Valine done!")
		 
    </script>
    <!-- Valine Comments end -->


	


	



</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢老板~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>このブログの内容物は<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ja">クリエイティブ・コモンズ 表示 - 非営利 - 継承 4.0 国際ライセンスの下に提供されています</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>albert &copy; 2018 - 2019</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
    
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://albert-5.cn/2019/06/01/网络流Network-Flow/&title=《网络流Network_Flow》 — Albert&pic=https://albert-5.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://albert-5.cn/2019/06/01/网络流Network-Flow/&title=《网络流Network_Flow》 — Albert&source=欢迎光顾本站~" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://albert-5.cn/2019/06/01/网络流Network-Flow/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《网络流Network_Flow》 — Albert&url=https://albert-5.cn/2019/06/01/网络流Network-Flow/&via=https://albert-5.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://albert-5.cn/2019/06/01/网络流Network-Flow/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACMklEQVR42u3aQU7EMAwFUO5/6UFiBUJ0/ncGRJOXVdV22rwuPHHst7d4PD7G5+PP4/qe5Or1+ZcNDAyM2zIel+P7JK5/m1Ovn5bPDQMD4xxGHmSv7/zpt9fTSsL0kzljYGBgBC/Lp5UsHDEwMDBWAm67HJwFZQwMDIxZEjtLd5PNtXYpiYGBcRpjVhj4m+Nfr29gYGD8e8ajHPlzZgvN4awwMDC2ZiTp5asKlsmHaJs2iuoEBgbGbRmvTT7Xt/7zrbov5zEwMI5hrBQ1k9au+n8gX4ZiYGAcwJi9OAnQOaC9EwMD40xGuyhcAUSTyxNsDAyMYxjtcrBNgNcD8Y9XMTAwtmYkwTTZys/7H1ba0aLoioGBsSkjCbgJr/5yC4tODAyMcxhJqjlrwsgby+qU9ftsMTAwtmbUt45evFLCzLf8MDAw9mYkj8jbMtoUtC2R1i0aGBgYN2e0ZcVZkaBNd+tgjYGBsTVjvQCZ9DzkRYJZUQEDA+McxmxDf2UROQMUbRYYGBhbMHJA2zCxstFWf1AMDIwDGLMHtY0Rs6VkdAYDA2Nrxm+UIdsmsLYkOSwPYGBg3JbxKMcscW037/KNNgwMjBMY+WgZs0JmUhwdAjAwMG7OyFu1WlJbJFj66hgYGAcw8k23V5Ue29j/JKxjYGBgjMqZyUIwL4U++QQYGBgY5ebarBiQp7VRCRMDA2M7Rh7yhq8p09Qk0R3m4hgYGDdkzFoc2tDZHs8KnBgYGNsx3gEOjKh2FEML9AAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>



 <!-- 添加百度统计js -->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4099fc41b7fab35703d6ee8152506fa9";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>


<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>




<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)哦吼!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



<!-- 插入音乐插件js文件 -->
<script src="//cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>

    <!-- 爱心点击特效 -->
    <script type="text/javascript" src="/js/click.js"></script>
    
    <!-- 社会主义核心价值观点击特效 -->
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript">
        /* 鼠标点击特效 - 7Core.CN */
        var a_idx = 0;jQuery(document).ready(function($) {$("body").click(function(e) {var a = new Array("富强", "民主", "文明", "和谐", "自由", "平等", "公正" ,"法治", "爱国", "敬业", "诚信", "友善");var $i = $("<span/>").text(a[a_idx]);
        a_idx = (a_idx + 1) % a.length;var x = e.pageX,y = e.pageY;$i.css({"z-index": 100000000,"top": y - 20,"left": x,"position": "absolute","font-weight": "bold","color": "#ff6651"});$("body").append($i);$i.animate({"top": y - 180,"opacity": 0},1500,function() {$i.remove();});});});
    </script>
    <script src="//code.tidio.co/dhfi5clsw9dl27z5yr9nyrnwtuqc4zhv.js"></script>
    <!-- Weather -->
	<script type="text/javascript">WIDGET = {FID: 'WB6nWo7ICo'}</script>
	<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111">
	</script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"position":"right","width":150,"height":300,"jsonPath":"/live2dw/assets/assets/shizuku.model.json"},"mobile":{"show":true}});</script></body>
    
</html>
